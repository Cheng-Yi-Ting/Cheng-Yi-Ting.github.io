---
title: JavaScript 陣列
date: 2019-11-10
tags:
  - JavaScript

---

<img src="logo.svg" style="width:15%;">

<br/>

## 陣列

JavaScript 的陣列可以看作是一種特別的「物件」， 陣列內可以是原始的資料類型、其他陣列、函式等等。
</br>

#### <strong>建立陣列</strong>

陣列可以使用字面表達語法來建立︰

```javascript
var fruits = ['Apple', 'Banana'];
```

或是使用 Array 的建構子來建立︰

```javascript
var fruits = new Array();
fruits[0] = "Apple";
fruits[1] = "Banana";
```

#### <strong>（透過索引）取得陣列項目</strong>

```javascript
var first = fruits[0]; //Apple
var last = fruits[fruits.length - 1]; // Banana
```

#### <strong>迭代陣列</strong>

```javascript
fruits.forEach(function(item, index, array) {
  console.log(item, index);
});
// Apple 0
// Banana 1
```

#### <strong>加入項目至陣列末端</strong>

```javascript
var newLength = fruits.push('Orange');
// ["Apple", "Banana", "Orange"]
```

#### <strong>移除陣列末端項目</strong>

```javascript
var last = fruits.pop(); // 移除 (最末端的) Orange
// ["Apple", "Banana"];
```

#### <strong>移除陣列前端項目</strong>

```javascript
var first = fruits.shift(); // 移除 (最前端的) Apple
// ["Banana"];
```

#### <strong>加入項目至陣列前端</strong>

```javascript
var newLength = fruits.unshift('Strawberry') // 加到陣列前端
// ["Strawberry", "Banana"];
```

#### <strong>在陣列中尋找項目的索引</strong>

```javascript
fruits.push('Mango');
// ["Strawberry", "Banana", "Mango"]

var pos = fruits.indexOf('Banana');
// 1
```

#### <strong>移除指定索引位置的項目</strong>

```javascript
var removedItem = fruits.splice(pos, 1); // 移除 pos 起的 1 個項目

// ["Strawberry", "Mango"]
```

#### <strong>移除指定索引位置起的多個項目</strong>

```javascript
var vegetables = ['Cabbage', 'Turnip', 'Radish', 'Carrot'];
console.log(vegetables); 
// ["Cabbage", "Turnip", "Radish", "Carrot"]

var pos = 1, n = 2;

var removedItems = vegetables.splice(pos, n); 
// 這就是移除項目的方式，
// n 表示從該位置 (pos) 開始，一直到陣列的尾端有多少項目需要移除

console.log(vegetables); 
// ["Cabbage", "Carrot"] (原始的陣列被改變)

console.log(removedItems); 
// ["Turnip", "Radish"]
```

#### <strong>複製陣列</strong>

```javascript
var shallowCopy = fruits.slice(); // 這就是複製陣列的方式
// ["Strawberry", "Mango"]
```

#### <strong>將陣列元素合併成字串</strong>

```javascript
var elements = ['Fire', 'Air', 'Water'];

console.log(elements.join());
// expected output: "Fire,Air,Water"

console.log(elements.join(''));
// expected output: "FireAirWater"

console.log(elements.join('-'));
// expected output: "Fire-Air-Water"
```

#### <strong>刪除陣列元素</strong>

刪除陣列元素後，該元素為undefined。

```javascript
var arr = [1, 2, 3, 4, 5, 6];

delete arr[1];
//[1,undefined,3, 4, 5, 6]
```

#### <strong>將字串或輸入參數組成陣列</strong>

```javascript
console.log(Array.from('foo'));
// expected output: Array ["f", "o", "o"]

console.log(Array.from([1, 2, 3], x => x + x));
// expected output: Array [2, 4, 6]
```

#### <strong>對陣列中的各元素進行操作，操作後的值會被寫入新的陣列中並返回</strong>

map 會將所有陣列中的元素依序分別傳入一次至 callback 函式當中，並以此回呼函式每一次被呼叫的回傳值來建構一個新的陣列。

```javascript
var array1 = [1, 4, 9, 16];

// pass a function to map
const map1 = array1.map(x => x * 2);

console.log(map1);
// expected output: Array [2, 8, 18, 32]


var arr = [1, 2, 3, 4, 5, 6];

var arr2 = arr.map(function (element,index,array) {

  return element * 2;

});

console.log(arr2);
//  [2, 4, 6, 8, 10, 12]
```

#### <strong>會將兩個陣列合併產生新的陣列，原陣列不改變</strong>

concat() 方法被用來合併兩個或多個陣列。此方法不會改變現有的陣列。

```javascript
const array1 = ['a', 'b', 'c'];
const array2 = ['d', 'e', 'f'];

console.log(array1.concat(array2));
// expected output: Array ["a", "b", "c", "d", "e", "f"]
```

#### <strong>陣列比對（some）</strong>

陣列比對，只要有一個元素是 true，就返回 true。

```javascript
var array = [1, 2, 3, 4, 5];

var even = function(element) {
  // checks whether an element is even
  return element % 2 === 0;
};

console.log(array.some(even));
// expected output: true
```

#### <strong>陣列比對（every）</strong>

陣列比對，所有元素都是 true 才是 true。

```javascript
function isBelowThreshold(currentValue) {
  return currentValue < 40;
}

var array1 = [1, 30, 39, 29, 10, 13];

console.log(array1.every(isBelowThreshold));
// expected output: true
```

#### <strong>陣列過濾</strong>

陣列過濾，透過 filter 的過濾條件返回一個新陣列。

```javascript
var words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];

const result = words.filter(word => word.length > 6);

console.log(result);
// expected output: Array ["exuberant", "destruction", "present"]
```

#### <strong>檢查傳入的值是否為陣列</strong>

```javascript
// 下方都回傳 true
Array.isArray([]);
Array.isArray([1]);
Array.isArray(new Array());
Array.isArray(new Array('a', 'b', 'c', 'd'));
Array.isArray(new Array(3));
// 小細節：Array.prototype 本身是陣列：
Array.isArray(Array.prototype);

// 下方都回傳 false
Array.isArray();
Array.isArray({});
Array.isArray(null);
Array.isArray(undefined);
Array.isArray(17);
Array.isArray('Array');
Array.isArray(true);
Array.isArray(false);
Array.isArray({ __proto__: Array.prototype });
```

## 參考文獻

1. https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array

2. https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/map

3. https://sweeteason.pixnet.net/blog/post/41263148-javascript-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%99%A3%E5%88%97%28array%29%E6%93%8D%E4%BD%9C%E5%A4%A7%E5%85%A8
